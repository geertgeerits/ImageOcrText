<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:ImageOcrText"
             x:Class="ImageOcrText.MainPage"
             Loaded="OnPageLoaded"
             Appearing="OnPageAppearing">

    <NavigationPage.TitleView>
        <Grid
            RowDefinitions="Auto"
            ColumnDefinitions="60, 140*, 42, 60"
            BackgroundColor="#00bfff">

            <ImageButton
                x:Name="imgbtnAbout"
                Grid.Row="0"
                Grid.Column="0"
                Source="info_32p.png"
                HorizontalOptions="Start"
                VerticalOptions="Center"
                HeightRequest="32"
                WidthRequest="32"
                SemanticProperties.Description="{local:Translate Info_Text}"
                ToolTipProperties.Text="{local:Translate Info_Text}"
                Clicked="OnPageAboutClicked">
            </ImageButton>

            <Label
                x:Name="lblTitle"
                Style="{StaticResource labelStyleTitleView}"
                Grid.Row="0"
                Grid.Column="1"
                VerticalOptions="Center"
                LineBreakMode="WordWrap"
                FontSize="17"
                Text="{local:Translate ImageOcrText_Text}">
            </Label>

            <ImageButton
                x:Name="imgbtnSettings"
                Grid.Row="0"
                Grid.Column="3"
                Source="settings_32p.png"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                HeightRequest="32"
                WidthRequest="32"
                SemanticProperties.Description="{local:Translate Settings_Text}"
                ToolTipProperties.Text="{local:Translate Settings_Text}"
                Clicked="OnPageSettingsClicked">
            </ImageButton>
        </Grid>
    </NavigationPage.TitleView>

    <Grid
        RowDefinitions="Auto, *, Auto"
        ColumnDefinitions="130*, 100, 130*"
        HorizontalOptions="Center"
        Margin="5">

        <Button
            x:Name="BtnPickImage"
            Style="{StaticResource buttonStyleDefault}"
            Grid.Row="0"
            Grid.Column="0"
            Text="{local:Translate ButtonImage_Text}" 
            SemanticProperties.Description="{local:Translate ToolTipImage_Text}"
            ToolTipProperties.Text="{local:Translate ToolTipImage_Text}"
            Clicked="OnPickImageClicked">
        </Button>

        <HorizontalStackLayout
            Grid.Row="0"
            Grid.Column="1"
            HorizontalOptions="End"
            VerticalOptions="End"
            Margin="0,2,2,0"
            Spacing="10">

            <Label
                x:Name="lblTextToSpeech"
                HorizontalOptions="End"
                VerticalOptions="Center"
                HorizontalTextAlignment="End"
                VerticalTextAlignment="Center"
                IsVisible="False"
                Text="en-US">
            </Label>

            <ImageButton
                x:Name="imgbtnTextToSpeech"
                Source="speaker_64p_blue_green.png"
                HeightRequest="38"
                WidthRequest="38"
                IsVisible="False"
                SemanticProperties.Description="{local:Translate ToolTipTextToSpeech_Text}"
                ToolTipProperties.Text="{local:Translate ToolTipTextToSpeech_Text}"
                Clicked="OnTextToSpeechClicked">
            </ImageButton>
        </HorizontalStackLayout>

        <Button
            x:Name="BtnTakePicture"
            Style="{StaticResource buttonStyleDefault}"
            Grid.Row="0"
            Grid.Column="2"
            HorizontalOptions="End"
            Text="{local:Translate ButtonPicture_Text}"
            SemanticProperties.Description="{local:Translate ToolTipPicture_Text}"
            ToolTipProperties.Text="{local:Translate ToolTipPicture_Text}"
            Clicked="OnTakePictureClicked">
        </Button>

        <ScrollView
            Grid.Row="1"
            Grid.Column="0"
            Grid.ColumnSpan="3"
            VerticalOptions="FillAndExpand"
            Orientation="Vertical">

            <Grid
                RowDefinitions="300*"
                ColumnDefinitions="300*, 5"
                HorizontalOptions="Center">

                <Border
                        Grid.Row="0"
                        Grid.Column="0"
                        HorizontalOptions="FillAndExpand"
                        VerticalOptions="FillAndExpand"
                        Margin="5, 10, 0, 10"
                        Stroke="Gray">

                    <ScrollView>
                            <Editor
                                x:Name="edtOcrResult"
                                HorizontalOptions="Fill"
                                VerticalOptions="Fill"
                                Margin="0"
                                AutoSize="TextChanges"
                                VerticalTextAlignment="Start"
                                Text="">
                            </Editor>
                        </ScrollView>
                    </Border>

                </Grid>
        </ScrollView>

        <Button
            x:Name="BtnCopyToClipboard"
            Style="{StaticResource buttonStyleDefault}"
            Grid.Row="2"
            Grid.Column="0"
            Text="{local:Translate ButtonCopy_Text}"
            SemanticProperties.Description="{local:Translate ToolTipCopy_Text}"
            ToolTipProperties.Text="{local:Translate ToolTipCopy_Text}"
            Clicked="OnCopyToClipboardClicked">
        </Button>

        <Button
            x:Name="BtnShare"
            Style="{StaticResource buttonStyleDefault}"
            Grid.Row="2"
            Grid.Column="1"
            HorizontalOptions="Center"
            Text="{local:Translate ButtonShare_Text}"
            SemanticProperties.Description="{local:Translate ToolTipShare_Text}"
            ToolTipProperties.Text="{local:Translate ToolTipShare_Text}"
            Clicked="OnShareClicked">
        </Button>

        <Button
            x:Name="BtnClear"
            Style="{StaticResource buttonStyleDefault}"
            Grid.Row="2"
            Grid.Column="2"
            HorizontalOptions="End"
            Text="{local:Translate ButtonClear_Text}"
            SemanticProperties.Description="{local:Translate ToolTipClear_Text}"
            ToolTipProperties.Text="{local:Translate ToolTipClear_Text}"
            Clicked="OnClearClicked">
        </Button>

    </Grid>
</ContentPage>
